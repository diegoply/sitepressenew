{% extends 'base.html.twig' %}

{% block title %}Article{% endblock %}

{% block body %}

<article class="max-w-3xl mx-auto p-6 bg-white shadow-lg rounded-lg mt-8">

<!--présentation Article-->
    <h1 class="text-4xl font-bold text-green-500 mb-4 text-center">{{ article.title }}</h1>

    {# <h3 class="text-green-500 text-xl mb-4">{{ article.category }}</h3> #}

    <p class="text-gray-700 leading-relaxed text-center mt-12">
        Publié le : {{ article.publishedAt ? article.publishedAt|date('d/m/Y H:i', 'Europe/Paris') : 'Date non définie' }}
    </p>

    <p class="text-2xl text-gray-700 leading-relaxed text-center mt-12">{{ article.content }}</p>

<!-- liste commentaire-->

<tbody class="bg-white">
            <h1 class="text-4xl font-bold text-green-500 mb-4 text-center mt-20">Liste des commentaires</h1>
            {% for comment in comments|slice(0, 3) %}
                <div class="hover:bg-green-50">
                    <p class="text-sm text-gray-500 mt-4 text-center">
                    {{ comment.publishedAt ? comment.publishedAt|date('d/m/Y H:i', 'Europe/Paris') : 'Date non définie' }}
                    </p>
                    <p class="text-1xl border-b py-6 mt-2 text-center">{{ comment.comment }}</p>    
                </div>

            {% else %}
             <p class="text-1xl border-b py-6 mt-2 text-center">Aucun commentaire</p>
            
            {% endfor %}
        </tbody>

<!--formulaire commentaire-->
    <div class = "text-green-500 mt-12">
    {{ form_start(form) }}

    <div class="mb-5">
    {{ form_label(form.comment, null, {
        label_attr: {
            class: 'block text-sm font-semibold text-green-500 mb-1'
        }
    }) }}

    {{ form_widget(form.comment, {
        attr: {
            class: 'w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400 focus:border-green-400 transition'
        }
    }) }}

    {{ form_errors(form.comment) }}

    
<!--formulaire submit -->
    <div class="mt-4 text-center">
    {{ form_widget(form.submit, {
        attr: {
            class: "px-20 py-2 bg-green-500 text-white rounded-md hover:bg-green-200 focus:outline-none focus:ring-2 focus:ring-green-400 r"
        }
    }) }}
</div>

{{ form_end(form) }}

   
</div>
</article>

<!-- Formulaire commentaire juste en dessous de l'article -->


{% endblock %}
